# Base-de-Datos-de-Registro-de-Asistencia
/*-----
SCRIPT CREACION DE BASE DE DATOS 
SCRIPT CREACION DE TABLAS (PK, FK, CHECK, UNIQUE)
SCRIPT INSERCION DE DATOS
SCRIPT CREACION DE SP (PROCEDIMIENTO ALMACENADO)
SCRIPT CREACION DE VIEW
*/


------CREACION DE BASE DE DATOS-----
CREATE DATABASE IEP_20146;
-----USAR BASE DE DATOS------
USE IEP_20146;
-

----CREACION DE TABLAS---
---CREACION DE LA TABLA AREA---
CREATE TABLE AREA(
ID_AREA INT IDENTITY PRIMARY KEY,
NOMBRE_AREA VARCHAR(50),
CONSTRAINT UQ_NOMBREAREA UNIQUE(NOMBRE_AREA)
);
-

---CREACION DE LA TABLA CARGO---
CREATE TABLE CARGO (
ID_CARGO INT IDENTITY PRIMARY KEY,
NOMBRE_CARGO VARCHAR(50) NOT NULL,
ID_AREA INT,
CONSTRAINT FK_IDAREA_CARGO FOREIGN KEY (ID_AREA) REFERENCES AREA(ID_AREA)
);
-

---CREACION DE LA TABLA GRADO---
CREATE TABLE GRADO (
ID_GRADO INT IDENTITY PRIMARY KEY,
NOMBRE_GRADO VARCHAR(50) NOT NULL,
CONSTRAINT UQ_NOMBRE_GRADO UNIQUE(NOMBRE_GRADO)
);
-

---CREACION DE LA TABLA SECCION---
CREATE TABLE SECCION (
ID_SECCION INT IDENTITY PRIMARY KEY,
NOMBRE_SECCION VARCHAR(10) NOT NULL,
CONSTRAINT UQ_NOMBRE_SECCION UNIQUE(NOMBRE_SECCION)
);
-


---CREACION DE LA TABLA EMPLEADO---
CREATE TABLE EMPLEADOS (
ID_EMPLEADOS INT IDENTITY PRIMARY KEY,
NOMBRES VARCHAR(50) NOT NULL,
APELLIDOS VARCHAR(50) NOT NULL,
TURNO VARCHAR(50),
DNI INT NOT NULL,
ID_CARGO INT,
ID_GRADO INT,
ID_SECCION INT,
CONSTRAINT CK_TURNO CHECK (TURNO IN ('Ma√±ana','Tarde','M/T')),
CONSTRAINT FK_CARGO_EMPLEADOS FOREIGN KEY (ID_CARGO) REFERENCES CARGO(ID_CARGO),
CONSTRAINT FK_GRADO_EMPLEADOS FOREIGN KEY (ID_GRADO) REFERENCES GRADO(ID_GRADO),
CONSTRAINT FK_SECCION_EMPLEADOS FOREIGN KEY (ID_SECCION) REFERENCES SECCION(ID_SECCION)
);
-

---CREACION DE LA TABLA ASISTENCIA---
CREATE TABLE ASISTENCIA (
ID_ASISTENCIA INT IDENTITY PRIMARY KEY,
FECHA_REGISTRO DATETIME,
HORA_ENTRADA TIME,
HORA_SALIDA TIME,
ESTADO VARCHAR(50),
ID_EMPLEADOS INT,
CONSTRAINT FK_IDEMPLEADOS_ASISTENCIA FOREIGN KEY (ID_EMPLEADOS) REFERENCES EMPLEADOS(ID_EMPLEADOS),
);
-

-----INSERTANDO DATOS-----
-----INSERTANDO DATOS EN LA TABLA GRADO-----
INSERT INTO GRADO(NOMBRE_GRADO) VALUES


-----INSERTANDO DATOS EN LA TABLA SECCION
INSERT INTO SECCION(NOMBRE_SECCION) VALUES

-----INSERTANDO DATOS EN LA TABLA AREA----
INSERT INTO AREA (NOMBRE_AREA) VALUES

-----INSERTANDO DATOS EN LA TABLA CARGO-----
INSERT INTO CARGO (NOMBRE_CARGO, ID_AREA) VALUES

----INSERTANDO DATOS EN LA TABLA EMPLEADO-----
INSERT INTO EMPLEADOS (NOMBRES, APELLIDOS, DNI, TURNO, ID_CARGO,ID_GRADO,ID_SECCION) VALUES

